if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(b){var a=function(e){this.src={panel:e.attr("src"),frame:e.data("frame")||e.attr("src")};this.scale={panel:null,frame:null};this.height=0;this.width=0;this.attrs={title:e.attr("title")||e.attr("alt"),description:e.data("description")};this.href=null;this.dom_obj=null;return this},d={getInt:function(e){e=parseInt(e,10);return isNaN(e)?0:e},innerWidth:function(e){return this.getInt(e.css("width"))||0},outerWidth:function(e){return this.innerWidth(e)+this.extraWidth(e)},extraWidth:function(e){return this.getInt(e.css("paddingLeft"))+this.getInt(e.css("paddingRight"))+this.getInt(e.css("borderLeftWidth"))+this.getInt(e.css("borderRightWidth"))},innerHeight:function(e){return this.getInt(e.css("height"))||0},outerHeight:function(e){return this.innerHeight(e)+this.extraHeight(e)},extraHeight:function(e){return this.getInt(e.css("paddingTop"))+this.getInt(e.css("paddingBottom"))+this.getInt(e.css("borderTopWidth"))+this.getInt(e.css("borderBottomWidth"))}},c={elems:[".gv_galleryWrap",".gv_gallery",".gv_panelWrap",".gv_panel","img.gv_image",".gv_infobar",".gv_filmstripWrap",".gv_filmstrip",".gv_frame",".gv_thumbnail",".gv_caption","img.gv_thumb",".gv_navWrap",".gv_navNext",".gv_navPrev",".gv_navPlay",".gv_panelNavNext",".gv_panelNavPrev",".gv_overlay",".gv_showOverlay",".gv_imageStore"],createElem:function(f,g){g=document.createElement(g);var e=b(g);return e.attr(f)},getPos:function(e){var m=this,g=this.dom,e=e[0],j=e.id,f=0,i=0,l,h,k;if(!e){return{top:0,left:0}}if(e.offsetParent){do{f+=e.offsetLeft;i+=e.offsetTop}while(e=e.offsetParent)}if(j===m.id){return{left:f,top:i}}else{l=m.getPos(g.galleryWrap);h=l.left;k=l.top;return{left:f-h,top:i-k}}},mouseIsOverGallery:function(e,k){var f=this,i=this.dom,j=this.getPos(i.gv_galleryWrap),h=j.top,g=j.left;return e>g&&e<g+d.outerWidth(i.gv_galleryWrap)&&k>h&&k<h+d.outerHeight(i.gv_galleryWrap)},mouseIsOverPanel:function(e,l){var f=this,j=this.dom,k=this.getPos(j.gv_panelWrap),g=this.getPos(j.gv_galleryWrap),i=k.top+g.top,h=k.left+g.left;return e>h&&e<h+d.outerWidth(j.gv_panelWrap)&&l>i&&l<i+d.outerHeight(j.gv_panelWrap)},storeImages:function(){var e=this;this.sourceImgs=b("li>img",this.$el);this.numImages=this.sourceImgs.length;this.gvImages=[];this.sourceImgs.each(function(g,f){e.gvImages[g]=new a(b(f))})},setDimensions:function(){var e=this,i=this.dom,g={prev:d.innerWidth(i.gv_navPrev),play:d.innerWidth(i.gv_navPlay),next:d.innerWidth(i.gv_navNext),filmstrip:this.opts.frame_width,fsMax:0,fsFull:0},h={prev:d.innerHeight(i.gv_navPrev),play:d.innerHeight(i.gv_navPlay),next:d.innerHeight(i.gv_navNext),filmstrip:this.opts.frame_height+(this.opts.show_captions?d.outerHeight(i.gv_caption):0),fsMax:0,fsFull:0},f=[];if(this.filmstripOrientation==="horizontal"){i.gv_navWrap.css({width:g.prev+g.play+g.next,height:Math.max(h.prev,h.play,h.next)})}else{if(this.opts.filmstrip_style==="scroll"&&this.opts.frame_width<(g.prev+g.play+g.next)){i.gv_navWrap.css({width:Math.max(g.prev,g.play,g.next),height:h.prev+h.play+h.next})}else{i.gv_navWrap.css({width:g.prev+g.play+g.next,height:Math.max(h.prev,h.play,h.next)})}}if(this.filmstripOrientation==="vertical"&&g.filmstrip<(g.prev+g.play+g.next)){i.gv_navWrap.css({width:Math.max(g.prev,g.play,g.next),height:h.prev+h.play+h.next})}else{i.gv_navWrap.css({width:g.prev+g.play+g.next,height:Math.max(h.prev,h.play,h.next)})}i.gv_panel.css({width:this.opts.panel_width,height:this.opts.panel_height});i.gv_panelWrap.css({width:d.outerWidth(i.gv_panel),height:d.outerHeight(i.gv_panel)});i.gv_overlay.css({width:this.opts.panel_width});b.each(this.gvImages,function(k,j){i.gv_panelWrap.append(i.gv_panel.clone(true))});i.gv_panels=i.gv_panelWrap.find(".gv_panel");i.gv_panels.remove();i.gv_thumbnail.css({width:this.opts.frame_width,height:this.opts.frame_height});i.gv_frame.css({width:d.outerWidth(i.gv_thumbnail),height:d.outerHeight(i.gv_thumbnail)+(this.opts.show_captions?d.outerHeight(i.gv_caption):0),marginRight:this.opts.frame_gap,marginBottom:this.opts.frame_gap});if(this.filmstripOrientation==="horizontal"){this.filmstripSize=Math.floor((d.outerWidth(i.gv_panelWrap)-d.outerWidth(i.gv_navWrap))/(d.outerWidth(i.gv_frame)+this.opts.frame_gap));g.fsMax=this.filmstripSize*(d.outerWidth(i.gv_frame)+this.opts.frame_gap);g.fsFull=this.gvImages.length*(d.outerWidth(i.gv_frame)+this.opts.frame_gap);g.filmstrip=Math.min(g.fsMax,g.fsFull);if(this.opts.filmstrip_style!=="scroll"){h.filmstrip=(Math.ceil(this.gvImages.length/this.filmstripSize)*(d.outerHeight(i.gv_frame)+this.opts.frame_gap))-this.opts.frame_gap}}else{this.filmstripSize=Math.floor((d.outerHeight(i.gv_panelWrap)-d.outerHeight(i.gv_navWrap))/(d.outerHeight(i.gv_frame)+this.opts.frame_gap));h.fsMax=this.filmstripSize*(d.outerHeight(i.gv_frame)+this.opts.frame_gap);h.fsFull=this.gvImages.length*(d.outerHeight(i.gv_frame)+this.opts.frame_gap);h.filmstrip=Math.min(h.fsMax,h.fsFull);if(this.opts.filmstrip_style!=="scroll"){g.filmstrip=(Math.ceil(this.gvImages.length/this.filmstripSize)*(d.outerWidth(i.gv_frame)+this.opts.frame_gap))-this.opts.frame_gap}}i.gv_filmstripWrap.css({width:g.filmstrip,height:h.filmstrip});if(this.opts.show_filmstrip){if(this.filmstripOrientation==="horizontal"){i.gv_gallery.css({width:d.outerWidth(i.gv_panelWrap),height:d.outerHeight(i.gv_panelWrap)+this.opts.frame_gap+(this.opts.show_filmstrip?Math.max(d.outerHeight(i.gv_filmstripWrap),d.outerHeight(i.gv_navWrap)):d.outerHeight(i.gv_filmstripWrap))})}else{i.gv_gallery.css({width:d.outerWidth(i.gv_panelWrap)+this.opts.frame_gap+(this.opts.show_filmstrip?Math.max(d.outerWidth(i.gv_filmstripWrap),d.outerWidth(i.gv_navWrap)):d.outerWidth(i.gv_filmstripWrap)),height:d.outerHeight(i.gv_panelWrap)})}}else{i.gv_gallery.css({width:d.outerWidth(i.gv_panelWrap),height:d.outerHeight(i.gv_panelWrap)})}i.gv_galleryWrap.css({width:d.outerWidth(i.gv_gallery),height:d.outerHeight(i.gv_gallery),padding:this.opts.frame_gap})},setPositions:function(){var g=this,l=this.dom,k=0,i=0,h=0,f=0,e,j;if(this.filmstripOrientation==="horizontal"){e=Math.round((d.outerHeight(l.gv_filmstripWrap)-d.outerHeight(l.gv_navWrap))/2);if(e<0){i=-1*e}else{k=e}}else{j=Math.round((d.outerWidth(l.gv_filmstripWrap)-d.outerWidth(l.gv_navWrap))/2);if(j<0){f=-1*j}else{h=j}}if(!this.opts.show_filmstrip_nav&&this.filmstripOrientation==="horizontal"){f=Math.floor((d.outerWidth(l.gv_panelWrap)-d.outerWidth(l.gv_filmstripWrap))/2)}l.gv_panelNavNext.css({top:(d.outerHeight(l.gv_panel)-d.outerHeight(l.gv_panelNavNext))/2,right:10});l.gv_panelNavPrev.css({top:(d.outerHeight(l.gv_panel)-d.outerHeight(l.gv_panelNavPrev))/2,left:10});switch(this.opts.filmstrip_position){case"top":l.gv_navWrap.css({top:k,right:h});l.gv_panelWrap.css({bottom:0,left:0});l.gv_filmstripWrap.css({top:i,left:f});break;case"right":l.gv_navWrap.css({bottom:k,right:h});l.gv_panelWrap.css({top:0,left:0});l.gv_filmstripWrap.css({top:i,right:f});break;case"left":l.gv_navWrap.css({bottom:k,left:h});l.gv_panelWrap.css({top:0,right:0});l.gv_filmstripWrap.css({top:i,left:f});break;default:l.gv_navWrap.css({bottom:k,right:h});l.gv_panelWrap.css({top:0,left:0});l.gv_filmstripWrap.css({bottom:i,left:f});break}if(this.opts.overlay_position==="top"){l.gv_overlay.css({top:0,left:-99999});l.gv_showOverlay.css({top:0,left:0})}else{l.gv_overlay.css({bottom:0,left:-99999});l.gv_showOverlay.css({bottom:0,left:0})}if(!this.opts.show_filmstrip_nav){l.gv_navWrap.remove()}},buildFilmstrip:function(){var e=this,g=this.dom,f=this.gvImages.length*((this.filmstripOrientation==="horizontal"?this.opts.frame_width:this.opts.frame_height)+this.opts.frame_gap);g.gv_frame.append(g.gv_thumbnail);if(this.opts.show_captions){g.gv_frame.append(g.gv_caption)}g.gv_thumbnail.css("opacity",this.opts.frame_opacity);g.gv_thumbnail.bind({mouseover:function(){if(!b(this).hasClass("current")){b(this).stop().animate({opacity:1},250)}},mouseout:function(){if(!b(this).hasClass("current")){b(this).stop().animate({opacity:e.opts.frame_opacity},250)}}});b.each(this.gvImages,function(j,h){g.gv_frame.clone(true).prependTo(g.gv_filmstrip)});g.gv_filmstrip.css({width:d.outerWidth(g.gv_frame),height:d.outerHeight(g.gv_frame)});if(this.opts.filmstrip_style==="scroll"){if(this.filmstripOrientation==="horizontal"){if(f>d.innerWidth(g.gv_filmstripWrap)){g.gv_filmstrip.find(".gv_frame").clone(true).appendTo(g.gv_filmstrip).clone(true).appendTo(g.gv_filmstrip);g.gv_filmstrip.css("width",f*3);this.scrolling=true}else{g.gv_filmstrip.css("width",f)}}else{if(f>d.innerHeight(g.gv_filmstripWrap)){g.gv_filmstrip.find(".gv_frame").clone(true).appendTo(g.gv_filmstrip).clone(true).appendTo(g.gv_filmstrip);g.gv_filmstrip.css("height",f*3);this.scrolling=true}else{g.gv_filmstrip.css("height",f)}}}else{g.gv_filmstrip.css({width:parseInt(g.gv_filmstripWrap.css("width"),10)+this.opts.frame_gap,height:parseInt(g.gv_filmstripWrap.css("height"),10)+this.opts.frame_gap})}g.gv_frames=g.gv_filmstrip.find(".gv_frame");b.each(g.gv_frames,function(h,j){b(j).data("frameIndex",h)});g.gv_thumbnails=g.gv_filmstrip.find("div.gv_thumbnail")},buildGallery:function(){var e=this,f=this.dom;this.setDimensions();this.setPositions();if(this.opts.show_filmstrip){this.buildFilmstrip()}},showInfoBar:function(){if(!this.opts.show_infobar){return}var e=this,f=this.dom;f.gv_infobar.stop().stopTime("hideInfoBar_"+e.id).html((this.iterator+1)+" of "+this.numImages).show().css("opacity",this.opts.infobar_opacity);f.gv_infobar.oneTime(2000+this.opts.transition_speed,"hideInfoBar_"+e.id,function(){f.gv_infobar.fadeOut(1000)})},initImages:function(){var e=this,f=this.dom;b.each(this.gvImages,function(j,h){var g=b("<img/>");g.css("visibility","hidden").data("index",j);g.bind("load.galleryview",function(){var p=b(this),n=p.data("index"),k=this.width,s=this.height,q=f[(p.data("parent")).type].eq((p.data("parent")).index),o=d.innerWidth(q)/k,m=d.innerHeight(q)/s,r=q.hasClass("gv_panel")?"panel":"frame",i=0,l=0;h.scale[r]=e.opts[r+"_scale"]==="fit"?Math.min(o,m):Math.max(o,m);l=Math.round((d.innerWidth(q)-(k*h.scale[r]))/2);i=Math.round((d.innerHeight(q)-(s*h.scale[r]))/2);p.css({width:k*h.scale[r],height:s*h.scale[r],top:i,left:l});p.hide().css("visibility","visible");p.remove().appendTo(q);if(r==="frame"){p.fadeIn();q.parent().removeClass("gv_frame-loading");q.parent().find(".gv_caption").html(h.attrs.title)}else{if(n===e.opts.start_frame-1){q.prependTo(f.gv_panelWrap);q.removeClass("gv_panel-loading");p.fadeIn();e.showInfoBar()}else{q.removeClass("gv_panel-loading");p.show()}}});if(e.opts.show_panels){g.clone(true).data("parent",{type:"gv_panels",index:j}).appendTo(f.gv_imageStore).attr("src",h.src.panel)}if(e.opts.show_filmstrip){g.clone(true).data("parent",{type:"gv_thumbnails",index:j}).appendTo(f.gv_imageStore).attr("src",h.src.frame);if(f.gv_frames.length>f.gv_panels.length){g.clone(true).data("parent",{type:"gv_thumbnails",index:j+e.numImages}).appendTo(f.gv_imageStore).attr("src",h.src.frame);g.clone(true).data("parent",{type:"gv_thumbnails",index:j+e.numImages+e.numImages}).appendTo(f.gv_imageStore).attr("src",h.src.frame)}}})},showNext:function(){this.navAction="next";this.showItem(this.frameIterator+1)},showPrev:function(){this.navAction="prev";this.showItem(this.frameIterator-1)},showItem:function(g){if(isNaN(g)){return}if(!this.opts.show_filmstrip){g=g%this.numImages}var m=this,f=this.dom,j=g,h,n,k,e,l=false;if(g>=this.numImages){g=g%this.numImages}else{if(g<0){g=this.numImages-1;if(f.gv_frames!=undefined){j=f.gv_frames.length-1}else{j=f.gv_panels.length-1}}}e=f.gv_panels.eq(g);l=this.playing;if(l){this.stopSlideshow(false)}this.unbindActions();f.gv_gallery.oneTime(this.opts.transition_speed,"bindActions_"+m.id,function(){if(l){m.startSlideshow(false)}m.bindActions()});switch(this.opts.panel_animation){case"crossfade":f.gv_panels.eq(this.iterator).fadeOut(this.opts.transition_speed,function(){b(this).remove()});e.hide().prependTo(f.gv_panelWrap).fadeIn(this.opts.transition_speed);break;case"fade":f.gv_panels.eq(this.iterator).remove();e.hide().prependTo(f.gv_panelWrap).fadeIn(this.opts.transition_speed);break;case"slide":if(this.navAction==="next"||(this.navAction==="frame"&&j>this.iterator)){h=d.outerWidth(f.gv_panel);n=-1*d.outerWidth(f.gv_panel)}else{h=-1*d.outerWidth(f.gv_panel);n=d.outerWidth(f.gv_panel)}e.css({left:h}).appendTo(f.gv_panelWrap).animate({left:0},{duration:this.opts.transition_speed,easing:this.opts.easing});f.gv_panels.eq(this.iterator).animate({left:n},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){b(this).remove()}});break;default:f.gv_panels.eq(this.iterator).remove();e.prependTo(f.gv_panelWrap);break}this.updateOverlay(g);this.iterator=g;this.updateFilmstrip(j);this.showInfoBar()},updateOverlay:function(f){var e=this,g=this.dom;if(this.overlayVisible){this.hideOverlay(null,function(){g.gv_overlay.html("<h4>"+e.gvImages[f].attrs.title+"</h4><p>"+e.gvImages[f].attrs.description+"</p>");e.showOverlay()})}else{g.gv_overlay.html("<h4>"+e.gvImages[f].attrs.title+"</h4><p>"+e.gvImages[f].attrs.description+"</p>");g.gv_overlay.css(this.opts.overlay_position,-1*g.gv_overlay.outerHeight())}},hideOverlay:function(g,k){var e=this,j=this.dom,f={},i={},h=g||e.opts.transition_speed/2;k=k||function(){};f[this.opts.overlay_position]=-1*j.gv_overlay.outerHeight();i[this.opts.overlay_position]=0;j.gv_overlay.animate(f,{duration:h,easing:"swing",complete:k});j.gv_showOverlay.animate(i,{duration:h,easing:"swing"});this.overlayVisible=false},showOverlay:function(h){var e=this,k=this.dom,g={},f={},j={},i=h||e.opts.transition_speed/2;g[this.opts.overlay_position]=-1*k.gv_overlay.outerHeight();g.left=0;f[this.opts.overlay_position]=0;j[this.opts.overlay_position]=k.gv_overlay.outerHeight();k.gv_overlay.css(g);k.gv_overlay.animate(f,{duration:i,easing:"swing"});k.gv_showOverlay.animate(j,{duration:i,easing:"swing"});this.overlayVisible=true},updateFilmstrip:function(j){if(!this.opts.show_filmstrip){this.frameIterator=j;return}var f=this,h=this.dom,e=h.gv_thumbnails.eq(this.iterator),g,i;if(this.scrolling){e=e.add(h.gv_thumbnails.eq(this.iterator+this.numImages)).add(h.gv_thumbnails.eq(this.iterator+(2*this.numImages)))}h.gv_thumbnails.removeClass("current").animate({opacity:this.opts.frame_opacity});e.stop().addClass("current").animate({opacity:1},500);if(this.scrolling){if(this.filmstripOrientation==="horizontal"){i=(d.outerWidth(h.gv_frame)+this.opts.frame_gap)*(this.frameIterator-j);if(i>0){i="+="+Math.abs(i)}else{i="-="+Math.abs(i)}h.gv_filmstrip.animate({left:i},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){if(j<f.numImages){h.gv_filmstrip.css("left",d.getInt(h.gv_filmstrip.css("left"))-(f.numImages*(d.outerWidth(h.gv_frame)+f.opts.frame_gap)))}else{if(j>=(f.numImages*2)){h.gv_filmstrip.css("left",d.getInt(h.gv_filmstrip.css("left"))+(f.numImages*(d.outerWidth(h.gv_frame)+f.opts.frame_gap)))}}f.frameIterator=(j%f.numImages)+f.numImages}})}else{i=(d.outerHeight(h.gv_frame)+this.opts.frame_gap)*(this.frameIterator-j);if(i>0){i="+="+Math.abs(i)}else{i="-="+Math.abs(i)}h.gv_filmstrip.animate({top:i},{duration:this.opts.transition_speed,easing:this.opts.easing,complete:function(){if(j===0){h.gv_filmstrip.css("top",d.getInt(h.gv_filmstrip.css("top"))-(f.numImages*(d.outerHeight(h.gv_frame)+f.opts.frame_gap)));f.frameIterator=f.numImages}else{if(j>((f.numImages*3)-(f.filmstripSize*2))){h.gv_filmstrip.css("top",d.getInt(h.gv_filmstrip.css("top"))+(f.numImages*(d.outerHeight(h.gv_frame)+f.opts.frame_gap)));f.frameIterator=j-f.numImages}else{f.frameIterator=j}}}})}}else{this.frameIterator=j}},startSlideshow:function(e){var f=this,g=this.dom;if(!f.opts.enable_slideshow){return}if(e){g.gv_navPlay.removeClass("gv_navPlay").addClass("gv_navPause")}this.playing=true;g.gv_galleryWrap.everyTime(this.opts.transition_interval,"slideshow_"+this.id,function(){f.showNext()})},stopSlideshow:function(e){var f=this,g=this.dom;if(e){g.gv_navPlay.removeClass("gv_navPause").addClass("gv_navPlay")}this.playing=false;g.gv_galleryWrap.stopTime("slideshow_"+this.id)},enablePanning:function(){var e=this,f=this.dom;if(!e.opts.enable_slideshow){return}f.gv_panel.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize");if(this.opts.pan_style==="drag"){f.gv_panelWrap.delegate(".gv_panel img","mousedown.galleryview",function(g){e.isMouseDown=true;b(this).css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/closedhand.cur), n-resize")}).delegate(".gv_panel img","mouseup.galleryview",function(g){e.isMouseDown=false;b(this).css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize")}).delegate(".gv_panel img","mousemove.galleryview",function(k){var g,i,j=b(this),l,h;if(e.isMouseDown){g=k.pageY-e.mouse.y;i=k.pageX-e.mouse.x;l=d.getInt(j.css("top"))+g;h=d.getInt(j.css("left"))+i;j.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/closedhand.cur), n-resize");if(l>0){l=0}if(h>0){h=0}if(l<(-1*(d.outerHeight(j)-d.innerHeight(f.gv_panel)))){l=-1*(d.outerHeight(j)-d.innerHeight(f.gv_panel))}if(h<(-1*(d.outerWidth(j)-d.innerWidth(f.gv_panel)))){h=-1*(d.outerWidth(j)-d.innerWidth(f.gv_panel))}j.css("top",l);j.css("left",h)}else{j.css("cursor","url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur), n-resize")}})}else{}},bindActions:function(){var e=this,f=this.dom;f.gv_showOverlay.bind("click.galleryview",function(){if(e.overlayVisible){e.hideOverlay(250)}else{e.showOverlay(250)}});f.gv_navWrap.delegate("div","click.galleryview",function(){var g=b(this);if(g.hasClass("gv_navNext")){e.showNext()}else{if(g.hasClass("gv_navPrev")){e.showPrev()}else{if(g.hasClass("gv_navPlay")){e.startSlideshow(true)}else{if(g.hasClass("gv_navPause")){e.stopSlideshow(true)}}}}return false});f.gv_panelNavNext.bind("click.galleryview",function(){e.showNext();return false});f.gv_panelNavPrev.bind("click.galleryview",function(){e.showPrev();return false});f.gv_filmstripWrap.delegate(".gv_frame","click.galleryview",function(){var h=b(this),g=h.data("frameIndex");this.navAction="frame";e.showItem(g);return false});f.gv_panelWrap.bind("mouseover.galleryview",function(){e.showPanelNav()}).bind("mouseout.galleryview",function(){e.hidePanelNav()})},unbindActions:function(){var e=this,f=this.dom;f.gv_showOverlay.unbind("click.galleryview");f.gv_panelNavNext.unbind("click.galleryview");f.gv_panelNavPrev.unbind("click.galleryview");f.gv_navWrap.undelegate("div","click.galleryview");f.gv_filmstripWrap.undelegate(".gv_frame","click.galleryview")},showPanelNav:function(){var e=this,f=this.dom;f.gv_panelNavNext.show();f.gv_panelNavPrev.show()},hidePanelNav:function(){var e=this,f=this.dom;f.gv_panelNavNext.hide();f.gv_panelNavPrev.hide()},init:function(f,g){var e=this,h=this.dom={};this.opts=b.extend({},b.fn.galleryView.defaults,f);this.el=g;this.$el=b(g);this.id=g.id;this.iterator=this.frameIterator=this.opts.start_frame-1;this.overlayVisible=false;this.playing=false;this.scrolling=false;this.isMouseDown=false;this.mouse={x:0,y:0};this.filmstripOrientation=(this.opts.filmstrip_position==="top"||this.opts.filmstrip_position==="bottom")?"horizontal":"vertical";b(document).bind("mousemove.galleryview",function(i){e.mouse={x:i.pageX,y:i.pageY}});b.each(this.elems,function(j,k){var k=k.split(".");if(k[0]===""){k[0]="div"}h[k[1]]=e.createElem({"class":k[1]},k[0])});h.gv_imageStore.appendTo(b("body"));h.gv_galleryWrap.delegate("img","mousedown.galleryview",function(i){if(i.preventDefault){i.preventDefault()}});h.gv_panel.addClass("gv_panel-loading");h.gv_frame.addClass("gv_frame-loading");h.gv_galleryWrap.hide().append(h.gv_gallery);if(this.opts.show_panels){h.gv_gallery.append(h.gv_panelWrap);if(this.opts.show_panel_nav){h.gv_panelWrap.append(h.gv_panelNavNext,h.gv_panelNavPrev)}if(this.opts.show_infobar){h.gv_panelWrap.append(h.gv_infobar)}}if(this.opts.show_filmstrip){h.gv_gallery.append(h.gv_filmstripWrap.append(h.gv_filmstrip));if(this.opts.show_filmstrip_nav){h.gv_gallery.append(h.gv_navWrap.append(h.gv_navPrev,(this.opts.enable_slideshow?h.gv_navPlay:b("<span></span>")),h.gv_navNext))}}if(this.opts.enable_overlays){h.gv_panelWrap.append(h.gv_overlay,h.gv_showOverlay)}if(this.opts.show_captions){h.gv_frame.append(h.gv_caption).appendTo(h.gv_gallery)}this.$el.replaceWith(h.gv_galleryWrap);if(this.opts.pan_images){this.enablePanning()}this.storeImages();this.buildGallery();this.initImages();this.bindActions();h.gv_frame.remove();h.gv_galleryWrap.show();if(this.opts.autoplay){this.startSlideshow(true)}this.updateOverlay(this.iterator);this.updateFilmstrip(this.frameIterator)}};b.fn.galleryView=function(e){if(this.length){return this.each(function(){var f=Object.create(c);f.init(e,this)})}};b.fn.galleryView.defaults={transition_speed:1000,transition_interval:5000,easing:"swing",show_panels:true,show_panel_nav:true,enable_overlays:false,panel_width:800,panel_height:400,panel_animation:"fade",panel_scale:"crop",overlay_position:"bottom",pan_images:false,pan_style:"drag",pan_smoothness:15,start_frame:1,show_filmstrip:true,show_filmstrip_nav:true,enable_slideshow:true,autoplay:false,show_captions:false,filmstrip_size:3,filmstrip_style:"scroll",filmstrip_position:"bottom",frame_width:80,frame_height:40,frame_opacity:0.4,frame_scale:"crop",frame_gap:5,show_infobar:true,infobar_opacity:1}})(jQuery);